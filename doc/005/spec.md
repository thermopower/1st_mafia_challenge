# 체험단 상세 - 상세 유스케이스

## Primary Actor
로그인한 사용자 (인플루언서, 광고주)

## Precondition
- 로그인 상태
- 홈 또는 목록에서 체험단 카드 클릭

## Trigger
체험단 카드 클릭 또는 상세 페이지 URL 직접 접근

## Main Scenario
1. 체험단 상세 페이지 로드
2. 체험단 기본 정보 조회 (제목, 설명, 미션, 혜택)
3. 광고주 정보 조회 (회사명, 위치, 카테고리)
4. 모집 정보 조회 (기간, 인원, 상태)
5. 사용자 권한 확인 (인플루언서 등록 완료 여부)
6. 지원 가능 여부 판단
7. 지원 버튼 또는 접근 제한 메시지 표시
8. 체험단 이미지 및 상세 내용 표시
9. 관련 체험단 추천 (선택사항)

## Edge Cases
- 체험단 삭제됨: 404 페이지 또는 목록으로 리다이렉션
- 모집 마감됨: 지원 버튼 비활성화 및 마감 메시지
- 인플루언서 미등록: 지원 버튼 대신 등록 유도 메시지
- 권한 없음: 광고주만 볼 수 있는 정보는 가림 처리
- 이미지 로딩 실패: 기본 이미지로 대체

## Business Rules
- 로그인 사용자만 체험단 상세 조회 가능
- 인플루언서 등록 완료자만 지원 버튼 활성화
- 광고주는 본인이 등록한 체험단만 관리 권한 가짐
- 모집 마감된 체험단은 지원 불가
- 체험단 삭제 시 관련 지원 정보도 함께 삭제
- 개인정보 보호를 위해 광고주 연락처는 공개하지 않음

## Sequence Diagram
```
@startuml
actor "User" as U
participant "Frontend" as FE
participant "Backend" as BE
participant "Database" as DB

U -> FE: 체험단 카드 클릭 또는 상세 URL 접근
FE -> BE: 체험단 상세 정보 요청\n(체험단 ID 포함)

BE -> DB: 체험단 정보 조회
DB -> BE: 체험단 데이터 반환

BE -> DB: 광고주 정보 조회\n(체험단 등록자 정보)
DB -> BE: 광고주 프로필 반환

BE -> BE: 사용자 권한 확인\n(로그인 상태, 인플루언서 등록 여부)

BE -> FE: 체험단 상세 정보 응답\n(지원 가능 여부 포함)

FE -> U: 체험단 상세 페이지 표시
FE -> U: 지원 버튼 또는 제한 메시지 표시

alt 지원 가능한 경우
    U -> FE: 지원 버튼 클릭
    FE -> U: 체험단 지원 페이지로 이동
else 접근 제한된 경우
    U -> FE: 인플루언서 등록 유도 메시지 표시
end

@enduml
```
