# 체험단 지원 - 상세 유스케이스

## Primary Actor
인플루언서 등록 완료자

## Precondition
- 인플루언서 프로필 등록 완료
- 로그인 상태
- 체험단 상세 페이지에서 접근

## Trigger
체험단 상세 페이지의 지원 버튼 클릭

## Main Scenario
1. 체험단 지원 폼 표시
2. 각오 한마디 입력 (필수)
3. 방문 예정일자 선택 (달력 UI 제공)
4. 입력 정보 유효성 검사
5. 중복 지원 확인 (이미 지원한 체험단인지 체크)
6. 모집 기간 내 지원 가능 여부 확인
7. 지원 정보 DB 저장
8. 지원 완료 메시지 표시
9. 내 지원 목록 페이지로 이동 또는 현재 페이지 유지

## Edge Cases
- 중복 지원 시도: 이미 지원한 체험단 안내 후 지원 불가
- 모집 마감됨: 지원 버튼 비활성화 상태에서 접근 불가
- 모집 정원 초과: 더 이상 지원 불가 메시지
- 방문일자 과거 선택: 미래 날짜만 선택 가능
- 각오 한마디 미입력: 필수 입력 항목 안내

## Business Rules
- 인플루언서 등록 완료자만 지원 가능
- 동일 체험단 중복 지원 불가
- 모집 기간 내에만 지원 가능 (시작일 <= 오늘 <= 마감일)
- 각오 한마디는 최소 10자 이상 입력 요구
- 방문 예정일은 모집 마감일 이전 날짜만 선택 가능
- 지원 취소는 마감 전까지만 가능
- 지원 완료 시 감사 로그 기록

## Sequence Diagram
```
@startuml
actor "User" as U
participant "Frontend" as FE
participant "Backend" as BE
participant "Database" as DB

U -> FE: 지원 버튼 클릭
FE -> U: 지원 폼 표시

U -> FE: 각오 한마디 입력
U -> FE: 방문 예정일자 선택

FE -> FE: 입력값 유효성 검사

FE -> BE: 체험단 지원 요청\n(체험단 ID, 각오, 방문일자)

BE -> BE: 사용자 권한 확인\n(인플루언서 등록 여부)

BE -> DB: 중복 지원 확인\n(사용자 ID + 체험단 ID)
DB -> BE: 중복 여부 반환

BE -> DB: 모집 상태 확인\n(체험단 마감 여부)
DB -> BE: 모집 상태 반환

BE -> BE: 비즈니스 규칙 검증\n(기간, 정원 등)

BE -> DB: 지원 정보 저장
DB -> BE: 저장 완료 응답

BE -> FE: 지원 완료 응답

FE -> U: 성공 메시지 표시
FE -> U: 내 지원 목록으로 이동 또는 현재 페이지 유지

@enduml
```
